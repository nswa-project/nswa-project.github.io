<!DOCTYPE html><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>NSWA Ranga Web</title><meta name=viewport content="width=device-width,initial-scale=1"><style>body{margin:20px;margin-left:100px;margin-right:100px;font-family:sans-serif;padding-left:340px}body{--code-background:#f9f9f9;--code-font-size:15px;--code-font-family:'Roboto Mono','Ubuntu Mono','Noto Sans Mono',Consolas,Menlo,Monaco,'Lucida Console','DejaVu Sans Mono','Bitstream Vera Sans Mono',monospace}a{color:#08c;text-decoration:none;outline:0}a:hover{color:#005580;text-decoration:none;outline:0}a:active,a:hover{outline:0}a:focus{outline:0}p{word-wrap:break-word}div.sourceCode{display:inline}pre{padding:10px;background-color:var(--code-background);overflow:auto;font-size:var(--code-font-size);font-family:var(--code-font-family)}pre>code{font-size:var(--code-font-size);font-family:var(--code-font-family)}:not(pre)>code{background-color:var(--code-background);padding:4px;font-size:var(--code-font-size);font-family:var(--code-font-family)}blockquote{margin-left:10px;border-left:5px solid #afafaf;padding-left:10px;color:#464646}table{border-width:1px;border-color:#464646;border-collapse:collapse}table th{border-width:1px;padding:8px;border-style:solid;border-color:#464646;background-color:#eaeaea}table td{border-width:1px;padding:8px;border-style:solid;border-color:#464646;background-color:#fff}#FontLoading{display:none;position:fixed;z-index:999;top:50px;right:20px;max-width:300px;background-color:#ffc;padding:10px;box-shadow:0 0 10px 0 #afafaf}#TOC{background-color:var(--code-background);height:100%;width:340px;max-width:340px;position:fixed;overflow:scroll;overflow-x:auto;left:0;top:0}#TOC_MoblieHelper{padding:6px;display:none;position:fixed;left:0;top:0;background:#fff}@media (max-width:980px){body{margin:10px;margin-left:10px;margin-right:10px}}@media (max-width:720px){body{margin:10px;padding-top:30px;padding-left:0;padding-right:0}#TOC{height:unset;width:unset;max-width:unset;position:unset;overflow:unset;display:none}#TOC_MoblieHelper{display:block}}img{margin:20px 0}.box_warn{border:1px solid #d1d5da;background-color:#ffc;padding:8px;margin:8px}</style><div id=TOC_MoblieHelper><a href=# onclick='document.getElementById("TOC").style.display="block",document.getElementById("TOC_MoblieHelper").style.display="none"'>显示目录</a></div><div id=FontLoading>正在从 Google Fonts 加载字体<br>如果你长时间无法加载字体，则说明你的网络连接或者 DNS 可能有问题</div><div class=box_warn>警告：该文档是从旧文档树中经过简单整理直接发布的，由于当前文档缺乏维护，因此对于当前开源版本主线 NSWA Ranga 可能少部分内容有所过时。如果你发现问题，请前往<a href=https://github.com/nswa-project/website/issues target=_blank>bugtracer</a>提交错误报告。</div><div id=TOC><ul><li><a href=#教程nswa-ranga-使用-seth-服务教程>教程：NSWA Ranga 使用 Seth 服务教程</a><ul><li><a href=#获取-seth-数据>获取 Seth 数据</a><ul><li><a href=#如何选择合适的-seth-数据>如何选择合适的 Seth 数据</a></ul><li><a href=#及以上版本使用服务端-seth推荐>4.7.13 及以上版本，使用服务端 Seth（推荐）</a><ul><li><a href=#上传-seth-数据>上传 Seth 数据</a><li><a href=#拨号>拨号</a><li><a href=#查看删除或更新-seth-数据>查看、删除或更新 Seth 数据</a></ul><li><a href=#及以上版本可以使用客户端-seth已-deprecated-但仍然可以使用>4.7.0 及以上版本，可以使用客户端 Seth（已 deprecated 但仍然可以使用）</a><ul><li><a href=#启用客户端-seth4.7.13-以下的版本不需要此步骤>启用客户端 Seth（4.7.13 以下的版本不需要此步骤）</a><li><a href=#将-seth-数据导入-web-控制台>将 Seth 数据导入 Web 控制台</a><li><a href=#使用seth-连接>使用“Seth 连接”</a></ul><li><a href=#obsolete-4.5.5-至-4.7.9使用-seth-网络服务也叫-seth-云服务>[Obsolete] 4.5.5 至 4.7.9，使用 Seth 网络服务（也叫 Seth 云服务）</a><ul><li><a href=#注册-seth-网络服务>注册 Seth 网络服务</a><li><a href=#配置接口>配置接口</a><li><a href=#为-nswa-ranga-添加-seth-用户>为 NSWA Ranga 添加 Seth 用户</a><li><a href=#设置计划任务以定期自动同步>设置计划任务以定期自动同步</a><li><a href=#seth-安全断开>Seth 安全断开</a></ul></ul></ul></div><h1 id=教程nswa-ranga-使用-seth-服务教程>教程：NSWA Ranga 使用 Seth 服务教程</h1><blockquote><p>这个教程完全使用 Web 控制台，使用命令行工具进行配置的方法请参考<a href=intro-cmdline.html>命令行工具手册</a></blockquote><blockquote><p>从 Seth 4.7.13 版本开始，Seth 分为 SS-Seth （服务端 Seth）和 CS-Seth （客户端 Seth）两种。并推荐使用 服务端 Seth，客户端 Seth 被废弃但仍然可以手动启用并继续使用。</blockquote><h2 id=获取-seth-数据>获取 Seth 数据</h2><p>Seth 数据全部源自 The-Seth-Project 之手，但我们与 The-Seth-Project 密切合作，因此 NSWA Ranga 用户可以直接与我们联系获得 Seth 数据。<p>可以在 The-Seth-Project 维护的 Seth-SDK 中获得 Seth 数据的更多信息和工具：https://github.com/seth-project/sdk.git<h3 id=如何选择合适的-seth-数据>如何选择合适的 Seth 数据</h3><p>我们和 The-Seth-Project 进行了长期讨论关于优化小型存储设备上如何尽可能缩减数据文件大小的问题。现在，Seth 数据文件将提供多种。<ol type=1><li><p>split- 以 split- 开头的数据文件为时长 &lt;= 6 个月的数据文件，通常建议使用此类文件。通常情况下你可以无脑选择这种。<li><p>以 split- 开头且包含 sdx3 和 sdx4 结尾的数据文件更小，如果你要上传多个数据文件（拨多个号），同时你的系统存储空间小（请在“关于 Ranga”-&gt;“资源使用”中查看“存储：”），则建议使用此类文件，但是，这是牺牲一些便利性但为存储空间非常小的设备进行优化的版本，占用体积更小，但如果你在一个时间段内拨号成功一次后如在这个一个时间段内断开时可能无法在该一个时间段内重连（从每天 00:00 以每 3 分钟/4 分钟分割）。<li><p>如果你有需要，你可以使用上文 Seth-SDK 中的工具（如 seth-split 和 seth-strip）等创建更适合你的数据文件。预制数据文件如何创建的方法在你获取的 Seth 数据压缩归档包中的 README.txt 文件有说明。<li><p>如果你决定使用客户端 Seth 而不是服务端 Seth，则通常无需考虑文件大小问题，建议直接使用未分割的版本（可以大于 6 个月）甚至 safe 版本。</ol><h2 id=及以上版本使用服务端-seth推荐>4.7.13 及以上版本，使用服务端 Seth（推荐）</h2><h3 id=上传-seth-数据>上传 Seth 数据</h3><p>选择“网络连接”-&gt;“额外工具”-&gt;“服务端 Seth 配置”<p><img src=res-euman-seth/c0.png><p>在“上传新的数据文件”中选择你按照上文提示选择好的文件，点击上传按钮即可。无需理会文件名。<p><img src=res-euman-seth/c1.png><h3 id=拨号>拨号</h3><p>然后，你即可在任何客户端（PC 浏览器、手机浏览器等等）像最早的时候那样随意拨号。（接口需要配置用户名和密码）<p><img src=res-euman-seth/c2.png><p>同时，如果你没有关闭“免同步时间早期自动拨号功能”，则还可以使路由器开机时自动拨号等等。<h3 id=查看删除或更新-seth-数据>查看、删除或更新 Seth 数据</h3><p>在“网络连接”-&gt;“额外工具”-&gt;“服务端 Seth 配置”中，你还可以查看已经上传的 Seth 数据。每个 Seth 数据对一个用户名有效，并显示为“用户名.sth3” 的形式。<p>下面的小字还显示了数据文件的生效时间和有效期。<p><img src=res-euman-seth/c3.png><p>要删除数据文件，单击左侧的叉号即可。<p>要更新数据文件，直接重复“上传”过程即可。<div style=height:40px></div><h2 id=及以上版本可以使用客户端-seth已-deprecated-但仍然可以使用>4.7.0 及以上版本，可以使用客户端 Seth（已 deprecated 但仍然可以使用）</h2><h3 id=启用客户端-seth4.7.13-以下的版本不需要此步骤>启用客户端 Seth（4.7.13 以下的版本不需要此步骤）</h3><p>在 Web 控制台选择“Web 控制台偏好”-&gt;然后在“Web console deprecated legacy features”下勾选“Allows the use of Client Side Seth (CS-Seth) services.”<p><img src=res-euman-seth/b0.png><blockquote><p>之下的截图是在 4.7.0 版本上截取的，在 4.7.13 及以上版本有细微变化</blockquote><h3 id=将-seth-数据导入-web-控制台>将 Seth 数据导入 Web 控制台</h3><p>在 Web 控制台选择“接口设置”-&gt;然后选择一个需要设置 Seth 数据的接口。如果你使用多宿主，那么你需要为所有需要进行 Seth-NG 的接口配置 Seth 数据。这些接口必须启用一项 Netkeeper 扩展。<blockquote><p>导入的数据存在于你的浏览器 IndexedDB 中，如果你需要在多个浏览器中设置 Seth 数据，则需要单独设置。如果你清除浏览器数据，则此数据也会被清除。</blockquote><p><img src=res-euman-seth/b1.png><ul><li><p>选择“从文件设置”，然后选择你的 Seth 数据文件打开即可。<li><p>选择“从 Seth 服务器设置”，这通常较慢，但是便于手机等设备导入数据。输入秘密代码然后点按按钮即可。（已不再支持）</ul><h3 id=使用seth-连接>使用“Seth 连接”</h3><p>在“网络连接”中点按“Seth 连接”按钮即可，现在就像普通的连接一样了！<p><img src=res-euman-seth/b2.png><details><p></p><summary>[Obsolete] 4.5.5 至 4.7.9，使用 Seth 网络服务（也叫 Seth 云服务）</summary><p><h2 id=obsolete-4.5.5-至-4.7.9使用-seth-网络服务也叫-seth-云服务>[Obsolete] 4.5.5 至 4.7.9，使用 Seth 网络服务（也叫 Seth 云服务）</h2><blockquote><p>从 4.7.10 开始，Seth 云服务支持已经废弃并从系统中删除。 需要 NSWA Ranga 4.5.5 及以上版本。请确保你现在通过其他方式（如拦截法）将 NSWA Ranga 连接到互联网。</blockquote><h3 id=注册-seth-网络服务>注册 Seth 网络服务</h3><p>请与 The-Seth-Project 联系以获取你的 Seth 用户<p>你将会得到一个对应你的用户名的 Secret<h3 id=配置接口>配置接口</h3><p>在 Web 控制台选择“接口配置”，配置你的接口，使用“Seth_v1” Netkeeper 扩展。<p><img src=res-euman-seth/a0.png><h3 id=为-nswa-ranga-添加-seth-用户>为 NSWA Ranga 添加 Seth 用户</h3><p>在 Web 控制台选择“附加组件”-&gt;“Seth Configuration”<p><img src=res-euman-seth/a1.png><p>输入你的用户名和 Secret，将用户添加到 NSWA Ranga。<p>如果你有多个账户，则需要一个一个添加。<p><img src=res-euman-seth/a2.png><p>然后，点击“立即同步”以开始同步。<p><img src=res-euman-seth/a3.png><p>同步过程可以通过日志查看<p><img src=res-euman-seth/a4.png><p>使用“显示已缓存的列表（附带生成时间）”可以查看当前 Seth 数据的发布时间，从而推算失效时间。<p><img src=res-euman-seth/a5.png><p>这是当然 Seth 数据的发布时间，一般情况下，Seth 数据将在 72 小时内有效。<p>目前 Seth 数据存储在设备的内存中，因此断电后将会丢失。这是由于 NSWA Ranga 主要采用擦除寿命很有限的闪存，而数据很大（大于 300KiB/账户）且频繁被更新，如果存储在闪存将会影响设备寿命。在未来可能提供选择是否存储在闪存。<h3 id=设置计划任务以定期自动同步>设置计划任务以定期自动同步</h3><p>因为 Seth 数据将在一段时间后失效，因此我们需要使用计划任务以自动更新 Seth 数据。<p>在 Web 控制台选择“计划任务”，然后点击“添加”按钮<p><img src=res-euman-seth/a6.png><p>在对话框中设置时间，服务器上的 Seth 数据将在每天（时区为 Asia/Shanghai，即东八区）的 00:30~01:30 之间更新。因此，我们建议你们选择 1:30~3:30 之间的凌晨时间进行同步，并且随机选择一个时间以和全部 Seth 用户避开高峰期。<p>执行操作选择“预设：从服务器同步 Seth 数据”<p><img src=res-euman-seth/a7.png><p>本例中，我们选择 2:27 执行同步<p><img src=res-euman-seth/a8.png><p>选择“添加计划任务”按钮。<p>修改计划任务设置后，选择“重启 CRON 服务”按钮以生效。<p><img src=res-euman-seth/a9.png><p>在 Web 控制台选择“杂项与微调”，启用开机自启动 CRON 服务<p><img src=res-euman-seth/a10.png><h3 id=seth-安全断开>Seth 安全断开</h3><p>目前 Seth 数据存储在设备的内存中，因此断电后将会丢失。这是由于 NSWA Ranga 主要采用擦除寿命很有限的闪存，而数据很大（大于 300KiB/账户）且频繁被更新，如果存储在闪存将会影响设备寿命。在未来可能提供选择是否存储在闪存。<p>为了使断电后再次开机时能够自动拨号，我们提供了 “Seth 安全断开” 功能。在 Web 控制台主页选择 “额外工具”，点按 “Seth 安全断开”，下次即可免同步 Seth 数据进行直接拨号，另外，如果你没有关闭 earlydial 功能，则下次开机时可以自动连接。<p><img src=res-euman-seth/a11.png><p>请注意！进行 Seth 安全断开后，如果帐号在其他地方登录了，则会导致下一次的拨号失败。</details><script>document.getElementById("FontLoading").style.display="block";var link=document.createElement("link");link.setAttribute("rel","stylesheet"),link.type="text/css",link.href="https://fonts.googleapis.com/css?family=Roboto+Mono",document.head.appendChild(link),link.onload=function(){document.getElementById("FontLoading").style.display="none"},link.onerror=function(){document.getElementById("FontLoading").style.backgroundColor="#ffe2e2",document.getElementById("FontLoading").innerHTML="无法从 Google Fonts 加载字体，你的网络连接或者 DNS 可能有问题"}</script>